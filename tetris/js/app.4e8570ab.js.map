{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Main.vue?be71","webpack:///./src/App.vue","webpack:///./src/components/Main.vue","webpack:///./src/components/Header.vue","webpack:///./src/components/Header.vue?67ef","webpack:///./src/components/Main.vue?c211","webpack:///./src/App.vue?6697","webpack:///./src/main.js","webpack:///./src/components/Header.vue?fb15","webpack:///./src/App.vue?14f2"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_createBlock","_component_Main","state","$data","class","style","_createElementVNode","selected","_hoisted_3","_hoisted_4","ref","tabindex","_createElementBlock","_hoisted_1","$props","stage","_hoisted_2","colorMode","$event","onInput","_cache","focus","author","challengerJoined","_hoisted_6","singlePlayerMode","type","playerName","$options","pollServer","_hoisted_7","innerHTML","processedGameLink","_hoisted_9","onClick","copy","_normalizeClass","linkCopied","_hoisted_10","_hoisted_11","_createVNode","_component_Header","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","maxlength","placeholder","autocomplete","onKeyup","_withKeys","joinGame","createGame","_hoisted_25","disabled","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","launchSinglePlayer","_hoisted_31","gameActuallyPlaying","_hoisted_32","_hoisted_33","countdown","_hoisted_34","_hoisted_35","_hoisted_36","playerJoinedCount","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","Array","fill","join","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_toDisplayString","_hoisted_46","_normalizeStyle","_hoisted_48","_hoisted_49","_hoisted_50","playGame","_hoisted_51","alive","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","reload","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_61","_hoisted_62","_hoisted_63","_hoisted_64","_hoisted_65","href","props","S","Math","sin","C","cos","x","computed","methods","Draw","G","a","B","w","R","Rl","Pt","Yw","oX","oY","oZ","tx","ty","tz","X","Y","Z","M","A","H","this","atan2","hypot","PI","width","clientWidth","fillStyle","clearRect","lineJoin","lineCap","map","v","q","beginPath","lineTo","height","strokeStyle","closePath","lineWidth","stroke","requestAnimationFrame","mounted","$nextTick","$refs","headerCanvas","getContext","clientHeight","__exports__","components","Header","currentPiece","swapped","boardBG","Image","tempBoard","initDropFreq","dropFreq","rowsCompleted","spaceKey","leftKey","upKey","rightKey","downKey","tabKey","pieceMoveTimer","pieceRotateTimer","piceMoveInterval","pieceManualDropTimer","piecManualDropInterval","nextPieceIdx","random","countdownTimer","ret","playerAName","playerBName","playerCName","playerDName","gameLink","startGame","spawnPiece","JSON","parse","stringify","boardData","tempPiece","round","canDo","checkRowCompletion","rowfound","highScore","piece","advancePiece","syncBoard","copyToClipboard","gamelink","playerNumber","drawNextPiece","tx1","ty1","msx","max","drawOpponents","ms","oy","font","fillText","k","active","mx","my","playerAdata","playerBdata","playerCdata","playerDdata","drawImage","msp","px","py","fillRect","strokeRect","highscore","currows","quickPoll","sendData","gameID","gamedata","fetch","baseURL","method","headers","body","then","res","json","alert","location","origin","playing","tname","gamedataA","gamedataB","gamedataC","gamedataD","lastNameUpdateTimer","setTimeout","cx","tries","filter","launchGame","history","pushState","decToAlpha","console","log","setupListeners","document","getElementsByTagName","addEventListener","e","keyCode","watch","val","mainCanvas","src","userNameField","Main","gameStarted","getGameData","receivedGameData","alphaToDec","actuallyStartGame","setBG","linkeCopied","el","tmp","createElement","position","opacity","setAttribute","appendChild","select","setSelectionRange","execCommand","parentNode","removeChild","cur","mul","pow","substring","charCodeAt","alphabet","getMode","vars","pathname","split","bgimg","color","backgroundImage","render","createApp","App","mount"],"mappings":"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","file":"js/app.4e8570ab.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Main.vue?vue&type=style&index=0&id=273f5400&scoped=true&lang=css\"","<template>\n  <Main :state=\"state\"/>\n</template>\n\n<script>\nimport Main from './components/Main'\n\nexport default {\n  name: 'App',\n  components: {\n    Main\n  },\n  data(){\n    return {\n      state: {\n        gameStarted: false,\n        createGame: null,\n        getGameData: null,\n        baseURL: '.',\n        gameLink: '',\n        author: false,\n        receivedGameData: {},\n        playerName: '',\n\t\t\t\tsinglePlayerMode: false,\n        alive: true,\n        highScore: 0,\n        lastNameUpdateTimer: 0,\n        decToAlpha: null,\n        alphaToDec: null,\n        boardData: [],\n        gameActuallyPlaying: true,\n        countdownTimer: null,\n        actuallyStartGame: null,\n        colorMode: Math.random()<.5?'rainbows':'cyberpunk',\n        playerAName: '',\n        playerBName: '',\n        playerCName: '',\n        playerDName: '',\n        playerAdata: {boardData:[]},\n        playerBdata: {boardData:[]},\n        playerCdata: {boardData:[]},\n        playerDdata: {boardData:[]},\n        playerNumber: '',\n        gameID: -1,\n        mode: 0,\n        copyToClipboard: null,\n        setBG: null,\n        linkeCopied: false,\n        challengerJoined: false\n      }\n    }\n  },\n  methods:{\n    copyToClipboard(el){\n      let tmp = document.createElement('input')\n      tmp.style.position = 'absolute'\n      tmp.style.opacity = '0'\n      tmp.setAttribute('type', 'text')\n      tmp.value = this.state.gameLink\n      document.getElementsByTagName('body')[0].appendChild(tmp)\n      tmp.select()\n      tmp.setSelectionRange(0, 99999)\n      document.execCommand(\"copy\")\n      tmp.parentNode.removeChild(tmp)\n      this.state.linkCopied = true\n      setTimeout(()=>{\n        this.state.linkCopied = false\n      },1200)\n    },\n    alphaToDec(val){\n      let pow=0\n      let res=0\n      let cur, mul\n      while(val!=''){\n        cur=val[val.length-1]\n        val=val.substring(0,val.length-1)\n        mul=cur.charCodeAt(0)<58?cur:cur.charCodeAt(0)-(cur.charCodeAt(0)>96?87:29)\n        res+=mul*(62**pow)\n        pow++\n      }\n      return res\n    },\n    decToAlpha(n){\n      let alphabet='0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ'\n      let ret='', r\n      while(n){\n        ret = alphabet[Math.round((n/62-(r=n/62|0))*62)|0] + ret\n        n=r\n      }\n      return ret == '' ? '0' : ret\n    },\n    createGame(){\n      let sendData = {gamedata: {\n          playerName: this.state.playerName,\n          playerNumber: 'A'\n        }\n      }\n      fetch(this.state.baseURL + '/createGame.php',{\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(sendData),\n      })\n      .then(res => res.json())\n      .then(data => {\n        if(data){\n          this.state.author = true\n          this.state.playerNumber = 'A'\n          this.state.gameID = data[0]\n          this.state.gameLink = this.state.baseURL + '/game/' + this.decToAlpha(data[0])\n        }\n      })\n    },\n    getMode(){\n      let vars = window.location.pathname.split('/').filter(v=>v)\n      if(vars.length>1){\n        switch(vars[0]){\n          case 'game':\n            this.state.gameID = this.alphaToDec(vars[1])\n            if(vars[2]=='a'){\n              this.state.author = true\n              this.state.stage = 1\n              this.state.gameLink = this.state.baseURL + '/game/' + this.decToAlpha(this.state.gameID )\n              this.state.playerNumber = 'A'\n            } else {\n              if(vars[1]){\n\t\t\t\t\t\t\t\tthis.state.stage = 2\n\t\t\t\t\t\t\t}\n            }\n          break;\n\t\t\t\t}\n      } else {\n\t\t\t  if(vars[0] == 'game') this.state.singlePlayerMode = true \n\t\t\t}\n    },\n    setBG(val){\n      let bgimg\n      switch(val){\n        case 'cyberpunk':\n          bgimg = 'https://lookie.jsbot.net/uploads/2clPtA.jpg';\n          document.getElementsByTagName('body')[0].style.color = '#0f8'\n          break\n        case 'rainbows':\n          bgimg = 'https://lookie.jsbot.net/uploads/1ECv2A.jpg';\n          document.getElementsByTagName('body')[0].style.color = '#ff0'\n          break\n        default:\n          bgimg = 'https://lookie.jsbot.net/uploads/1ECv2A.jpg';\n          break\n      }\n      document.getElementsByTagName('body')[0].style.backgroundImage = 'url(' + bgimg + ')'\n    }\n  },\n  mounted(){\n    this.getMode()\n    this.state.setBG = this.setBG\n    this.state.createGame = this.createGame\n    this.state.decToAlpha = this.decToAlpha\n    this.state.alphaToDec = this.alphaToDec\n    this.state.getGameData = this.getGameData\n    this.state.copyToClipboard = this.copyToClipboard\n    this.state.actuallyStartGame = this.actuallyStartGame\n    this.setBG(this.state.colorMode)\n  },\n  watch:{\n    'state.colorMode'(val){\n      this.setBG(val)\n    }\n  }\n}\n</script>\n\n<style>\n@import url('https://fonts.googleapis.com/css2?family=Varela+Round&display=swap');\nhtml {\n  margin: 0;\n}\nbody{\n  overflow: hidden;\n  height:100vh;\n  margin: 0;\n  background: #000 url(https://lookie.jsbot.net/uploads/1ECv2A.jpg) no-repeat;\n  background-position: center;\n  background-size: cover;\n  font-family: 'Varela Round';\n  color: #0f8;\n}\ninput:focus{\n  outline: none;\n}\ninput[type=search]{\n  background: #0000;\n  color: #0f8;\n  border: none;\n  border-bottom: 2px solid #0fc8;\n  font-family: \"Varela Round\";\n  text-align: center;\n  font-size: 24px;\n}\nbutton:focus{\n  outline: none;\n}\nbutton{\n  border: none;\n  background: linear-gradient(135deg, #0118, #068);\n  font-family: \"Varela Round\";\n  color: #0f8;\n  font-size: 24px;\n  padding: 20px;\n  padding-top: 5px;\n  padding-bottom: 8px;\n  border-radius: 10px;\n  cursor: pointer;\n}\nselect{\n  background: #000;\n  color: #0ff;\n  border: 1px solid #0ff8;\n}\n.noyellow{\n  color: #0f8;\n}\ncanvas:focus{\n  outline: none;\n}\n</style>\n","<template>\n  <div class=\"main\">\n    <div v-if=\"state.stage==1\" class=\"controls\" style=\"width: 750px;\">\n      <select v-model=\"state.colorMode\" style=\"margin-right: 10px;\" @input=\"c.focus()\">\n        <option selected value=\"cyberpunk\">cyberpunk</option>\n        <option value=\"rainbows\">rainbows</option>\n      </select>\n      <div v-if=\"!(state.author && state.stage==1 && !state.challengerJoined)\" style=\"display: inline-block;\">\n        <input v-if=\"!state.singlePlayerMode\" type=\"search\" v-model=\"state.playerName\" style=\"width: 150px; font-size: 18px; margin-right: 10px;background: #1236\" @input=\"pollServer(1)\">\n        <div style=\"display: inline-block;\" v-if=\"state.author\">\n          <span ref=\"gamelink\" class= \"gamelink\" v-html=\"processedGameLink\" style=\"font-size: .75em;background: #001; display: inline-block\"></span>\n          <div style=\"display: inline-block;\">\n            <button style=\"font-size: 14px;margin-left: 5px; padding: 5px; padding-left: 30px; padding-right: 1=5px; margin-top: 0px;background-image: url(https://lookie.jsbot.net/uploads/19npcK.png);background-repeat: no-repeat;background-position: 5px 2px; text-shadow: 1px 1px 2px #000;background-size: 20px 20px; border: 1px solid #8888; background-color: #6fa8;border-radius: 8px;padding-top: 3;\"\n            @click=\"copy()\"\n            :class=\"{'copied':state.linkCopied}\"\n            >copy</button><br>\n            <span v-if=\"state.linkCopied\" style=\"color: #0f8;font-size:12px;position: absolute; maring-top: 45px; width: 120px;margin-left: -58px;\">link copied!</span>\n          </div>\n        </div>\n      </div>\n    </div>\n    <Header :state=\"state\"/>\n    <div class=\"actionContainer\">\n      <canvas ref=\"mainCanvas\" tabindex=\"0\"></canvas>\n      <div class=\"inputForm\" :class=\"{'noyellow': state.colorMode=='cyberpunk'}\" v-if=\"!state.stage || state.stage==2\">\n        <div class=\"innerInputForm\" style=\"margin-top: -40px;background: #6488; padding: 20px; border-radius: 50%; box-shadow: 0 0 100px 100px #6488;width:300px;\">\n          <div v-if=\"state.stage\" style=\"color: #8fa;font-size: 1.4em;line-height: 1em;\">\n            You've been<br><span style=\"font-size: .8em;\">challenged to a</span><br>Tetris match!<br>\n          </div>\n          <div v-if=\"!state.stage\" style=\"color: #8fa\">\n            create a multiplayer<br><span style=\"font-size: 1.5em;\">Tetris match!</span><br>\n          </div><br>\n          <input\n            type=\"search\"\n            maxlength=\"16\"\n            placeholder=\"enter your name\"\n            v-model=\"state.playerName\"\n            autocomplete=\"off\"\n            ref=\"userNameField\"\n            v-on:keyup.enter=\"state.stage ? joinGame() : createGame()\"\n          ><br>\n          <button\n            v-if=\"state.playerName\"\n            class=\"createGameButton\"\n            :class=\"{'disabled': !state.playerName.length}\"\n            :disabled=\"!state.playerName.length\"\n            style=\"position: absolute; width: 250px;transform: translatex(-50%);margin-top: 20px;\"\n            @click=\"state.stage ? joinGame() : createGame()\"\n            v-html=\"state.stage ? 'join game' : 'create game'\"\n          ></button><br>\n\t\t\t\t\t<br>or<br><br>\n\t\t\t\t\t<button @click=\"launchSinglePlayer()\">play single<br>player mode</button>\n        </div>\n      </div>\n      <div v-if=\"!state.gameActuallyPlaying\">\n        <div v-if=\"!state.author && state.stage==1\" style=\"position: absolute; z-index: 1000; top:50%; left: 50%; transform: translate(-50%, -50%);background: #28a8; box-shadow: 0 0 100px 100px #28a8; padding: 20px; border-radius: 50%; font-size: 1em; margin-top:0px; width: 350px;\">\n          <div v-if=\"countdown <= 0\" style=\"margin-top: -30px;\">\n            <div style=\"color: #fff; text-shadow: 2px 2px 2px #000;\">\n            <span style=\"font-size: 3em;text-shadow: 0 0 10px #fff;color: #0ff;\">{{playerJoinedCount}}<br></span>players<br>have joined...<br>\n              <span style=\"font-size: .6em;\">\n                {{Array(1+(t*8|0)%8).fill(' <').join('')+Array(1+(t*8|0)%8).fill('> ').join('')}}<br>\n                waiting for the<br>\n                <span style=\"font-size: 2em;\">game master</span><br>to start the game<br>\n                {{Array(1+(t*8|0)%8).fill(' <').join('')+Array(1+(t*8|0)%8).fill('> ').join('')}}\n              </span>\n            </div>\n          </div>\n          <div v-else>\n            <div\n              :class=\"{'noyello': state.colorMode=='cyberpunk'}\"\n              :style=\"'transform: scale('+(.1+(t%1)*20)+'); opacity: '+(1-t%1)\"\n              v-html=\"countdown\"\n            ></div>\n          </div>\n        </div>\n        <div v-if=\"state.author && state.stage==1 && state.challengerJoined\" style=\"position: absolute; z-index: 1000; top:50%; left: 50%; transform: translate(-50%, -50%);background: #28a8; box-shadow: 0 0 100px 100px #28a8; padding: 40px; border-radius: 50%; font-size: .8em; margin-top:-20px;\">\n          <div v-if=\"countdown <= 0\">\n            {{playerJoinedCount}} players have joined...<br>\n            <button\n              style=\"background: linear-gradient(135deg, #0ff, #80f); color: #000; margin-top: 10px;\"\n              @click=\"playGame()\"\n              ref=\"startGameButton\"\n            >start game</button>\n          </div>\n          <div v-else>\n            <div\n              :style=\"'transform: scale('+(.1+(t%1)*20)+'); opacity: '+(1-t%1)\"\n              v-html=\"countdown\"\n            ></div>\n          </div>\n        </div>\n      </div>\n      <div v-if=\"state.stage == 1 && !state.alive\" >\n        <div style=\"position: absolute; z-index: 1000; top:50%; left: 50%; transform: translate(-50%, -50%);background: #f038; box-shadow: 0 0 100px 100px #f038; padding: 40px; border-radius: 50%; font-size: .8em; text-shadow: 2px 2px 2px #000;margin-top: -30px;\">\n          You've been defeated!<br><br>\n          <button\n            @click=\"reload()\"\n          >re-start</button>\n        </div>\n      </div>\n      <div v-if=\"state.author && state.stage==1 && !state.challengerJoined\" style=\"position: absolute; z-index: 1000; top:50%; left: 50%; transform: translate(-50%, -50%);background: #86c8; box-shadow: 0 0 100px 100px #86c8; padding: 40px; border-radius: 50%; font-size: .8em; text-shadow: 2px 2px 2px #000;\">\n        share this link with<br>up to 3 opponents!<br>\n        <span ref=\"gamelink\" class= \"gamelink\" v-html=\"processedGameLink\" style=\"background: #001;\"></span><br>\n        <div class=\"copyButtonDiv\" style=\"display: inline-block\">\n          <button style=\"font-size: 18px;margin-left: 5px; padding: 15px; padding-left: 50px; padding-right: 10px; margin-top: 10px;background-image: url(https://lookie.jsbot.net/uploads/19npcK.png);background-repeat: no-repeat;background-position: 5px 5px; text-shadow: 1px 1px 2px #000;background-size: 40px 40px; border: 1px solid #8888; background-color: #6fa8;border-radius: 8px;\"\n          @click=\"copy()\"\n          :class=\"{'copied':state.linkCopied}\"\n          >copy</button><br>\n          <span v-if=\"state.linkCopied\" style=\"color: #0f8;font-size:20px;position: absolute; maring-top: 45px; width: 120px;margin-left: -58px;\">link copied!</span>\n        </div><br>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Header from './Header'\nexport default {\n  name: 'Main',\n  props: [ 'state' ],\n  components: {\n    Header\n  },\n  data(){\n    return {\n      t: 0,\n      S: Math.sin,\n      C: Math.cos,\n      x: null,\n      currentPiece: null,\n      swapped: false,\n\t\t\tboardBG: new Image(),\n      tempBoard: [],\n      initDropFreq: 40,\n      dropFreq: 40,\n      rowsCompleted: 0,\n      c: null,\n      spaceKey: false,\n      leftKey: false,\n      upKey: false,\n      rightKey: false,\n      downKey: false,\n\t\t\ttabKey: false,\n      pieceMoveTimer: 0,\n      pieceRotateTimer: 0,\n\t\t\tpiceMoveInterval: .15,\n      pieceManualDropTimer: 0,\n      piecManualDropInterval: .02,\n      B: [],\n      G: [],\n      R: null,\n      nextPieceIdx: Math.random()*7|0,\n      stage: null\n    }\n  },\n  computed:{\n    countdown(){\n      return (this.state.countdownTimer - this.t | 0)\n    },\n    playerJoinedCount(){\n      let ret = 0\n      ret += this.state.playerAName ? 1 : 0\n      ret += this.state.playerBName ? 1 : 0\n      ret += this.state.playerCName ? 1 : 0\n      ret += this.state.playerDName ? 1 : 0\n      if(ret < 2) this.state.challengerJoined = false\n      return ret\n    },\n    processedGameLink(){\n      //return '<a href=\"' + this.state.gameLink + '\" target=\"_blank\">' + this.state.gameLink + '</a>'\n      return this.state.gameLink\n    }\n  },\n  methods:{\n\t\tlaunchSinglePlayer(){\n\t\t\tthis.state.singlePlayerMode = true\n\t\t\tthis.startGame()\n\t\t},\n    spawnPiece(X, Y){\n      this.tempBoard = JSON.parse(JSON.stringify(this.state.boardData))\n      let n = this.nextPieceIdx\n      this.nextPieceIdx = this.B.length*Math.random()|0\n      let tempPiece = JSON.parse(JSON.stringify(this.B))[n].map(v=>{\n        return [\n          Math.round(X + v[0]),\n          Math.round(Y + v[1]),\n          n\n        ]\n      })\n      if(this.canDo(tempPiece)){\n        this.currentPiece = tempPiece\n        this.state.boardData = this.state.boardData.map((v, i)=>{\n          let tx = i%10\n          let ty = (i/10|0) - 6\n          this.currentPiece.map(q=>{\n            if(q[0] == tx && q[1] == ty){\n              v[0] = q[2]+1\n              v[1] = 0\n            }\n          })\n          return v\n        })\n      } else {\n        this.state.alive = false\n      }\n    },\n    checkRowCompletion(){\n      let rowfound\n      for(let j=26; j--;){\n        rowfound = true\n        for(let i=0; i<10; ++i){\n          if(!this.state.boardData[j*10+i][0]) rowfound = false\n        }\n        if(rowfound){\n          this.rowsCompleted++\n          this.dropFreq = this.initDropFreq / (1+this.rowsCompleted/20)\n          if(this.rowsCompleted > this.state.highScore) this.state.highScore = this.rowsCompleted\n          for(let i=0; i<10; ++i){\n            this.state.boardData[j*10+i][1] = 1\n          }\n        }\n      }\n    },\n    canDo(piece){\n      let ret = true\n      this.tempBoard.map((v, i)=>{\n        let tx = i%10\n        let ty = (i/10|0) - 6\n        piece.map(q=>{\n          if(q[0] == tx && q[1] == ty && v[0] ||\n          q[1] > 19 ||\n          q[0] < 0 ||\n          q[0] > 9\n          ) ret = false\n        })\n      })\n      return ret\n    },\n    advancePiece(){\n      if(!this.currentPiece) return\n      let tempPiece = JSON.parse(JSON.stringify(this.currentPiece)).map(v=>{\n          return [\n            Math.round(v[0]),\n            Math.round(v[1]+1),\n            v[2]\n          ]\n        })\n        \n        \n      if(this.canDo(tempPiece)){\n        this.currentPiece = tempPiece\n        this.state.boardData = JSON.parse(JSON.stringify(this.tempBoard))\n        this.state.boardData = this.state.boardData.map((v, i)=>{\n          let tx = i%10\n          let ty = (i/10|0) - 6\n          this.currentPiece.map(q=>{\n            if(q[0] == tx && q[1] == ty){\n              v[0] = q[2]+1\n              v[1] = 0\n            }\n          })\n          return v\n        })\n      } else {\n\t\t\t\tthis.swapped = false\n        this.state.boardData = this.state.boardData.map((v, i)=>{\n          let tx = i%10\n          let ty = (i/10|0) - 6\n          this.currentPiece.map(q=>{\n            if(q[0] == tx && q[1] == ty){\n              v[0] = q[2]+1\n              v[1] = 0\n            }\n          })\n          return v\n        })\n        this.currentPiece = null\n        this.tempBoard = JSON.parse(JSON.stringify(this.state.boardData))\n        this.checkRowCompletion()\n      }\n    },\n    syncBoard(){\n      this.state.boardData = Array(260).fill().map(v=>[0,0])\n      this.dropFreq = this.initDropFreq\n      this.rowsCompleted = 0\n      this.tempBoard = Array(260).fill().map(v=>[0,0])\n    },\n    copy(){\n      this.state.copyToClipboard(this.$refs.gamelink)\n    },\n    createGame(){\n      this.state.createGame()\n    },\n    joinGame(){\n      this.state.playerNumber = '';\n      this.state.stage = 1\n      this.state.alive = true\n      this.syncBoard()\n      this.pollServer()\n      this.$nextTick(()=>this.Draw())\n    },\n    drawNextPiece(tx1, ty1, nextPieceIdx, msx){\n      let t = this.t\n      let S = this.S\n      let C = this.C\n      let x = this.x\n      let c = this.c\n            \n      x.lineJoin=x.lineCap = 'round'\n      let X, Y, Z, R\n      ty1 += 70\n      let Rl, Pt, Yw, oX, oY, oZ\n      Rl=t/4, Pt=-t/1.5, Yw=t*2\n      let s = (c.height - c.height/20) * msx\n      oX=0, oY=0, oZ=Math.max(4, 16 - s/60)\n\n      let M, A, p, H, d\n      R = (Rl,Pt,Yw,o)=>{\n        X=S(p=(A=(M=Math).atan2)(X,Y)+Rl)*(d=(H=M.hypot)(X,Y)),Y=C(p)*d,Y=S(p=A(Y,Z)+Pt)*(d=H(Y,Z)),Z=C(p)*d,X=S(p=A(X,Z)+Yw)*(d=H(X,Z)),Z=C(p)*d\n        if(o)X+=oX,Y+=oY,Z+=oZ\n      }\n      this.B.map((v, j)=>{\n        if(j==nextPieceIdx){\n          v.map(v=>{\n            let tx=v[0]\n            let ty=v[1]\n            let tz=v[2]\n            this.G.map((q, i)=>{\n              X = q[0] + tx\n              Y = q[1] + ty\n              Z = q[2] + tz\n              R(Rl*(j%2?1:-1),Pt*(j%2?1:-1.5),Yw,1)\n              if(!(i%4)) x.beginPath()\n              x.lineTo(tx1 + s/4.5 - 100 + X/Z*200,ty1 + s/8 - 70 + Y/Z*200)\n              if(i%4==3){\n                switch(this.state.colorMode){\n                  case 'cyberpunk':\n                    x.strokeStyle=`hsla(${170},75%,${60}%,.8)`\n                    x.fillStyle=`hsla(${170},75%,${60}%,.3)`\n                    break\n                  case 'rainbows':\n                    x.strokeStyle=`hsla(${360/7*j},75%,50%,.8)`\n                    x.fillStyle=`hsla(${360/7*j},75%,50%,.3)`\n                    break\n                }\n                x.closePath()\n                x.lineWidth=5/Z\n                //x.strokeStyle=`hsla(${360/7*j},99%,80%,.8)`\n                x.stroke()\n                //x.fillStyle=`hsla(${360/7*j},99%,50%,.3)`\n                x.fill()\n              }\n            })\n          })\n        }\n      })\n    },\n    drawOpponents(X, Y){\n      let t = this.t\n      let S = this.S\n      let C = this.C\n      let x = this.x\n      let c = this.c\n      let tx, ty, j, tx1, ty1\n      let ms = .4\n      let s = (c.height - c.height/20) * ms\n      let oy = Y + s/4\n\n\n      if(this.state.singlePlayerMode){\n\t\t\t\tx.font  = s/10 + 'px \"Varela Round\"'\n\t\t\t\tx.fillStyle = '#0f8'\n\t\t\t\tx.fillText('high score', X + s/4, Y + s/8*2)\n\t\t\t\tx.fillStyle = '#fff'\n\t\t\t\tx.fillText(this.state.highScore, X + s/2 - s/32, Y + s/8*3)\n        x.fillStyle = '#0f8'\n        x.fillText('rows completed', X + s/6, Y + s/8*5)\n        x.fillStyle = '#fff'\n        x.fillText(this.rowsCompleted, X + s/2 - s/32, Y + s/8*6)\n\t\t\t\treturn\n\t\t\t} else if(this.state.challengerJoined){\n        let ms = .2\n        let s = (c.height - c.height/20) * ms\n        let oy = Y + s/4\n        for(let k=0; k<4; ++k){\n          let active = true\n          switch(k){\n            case 0: if(!this.state.playerAName) active = false; break\n            case 1: if(!this.state.playerBName) active = false; break\n            case 2: if(!this.state.playerCName) active = false; break\n            case 3: if(!this.state.playerDName) active = false; break\n          }\n          let mx = (k%2+.3) * s*1.05\n          let my = ((k/2|0)) * s * 1.22\n          tx = mx + X + s/32 - s/4\n          let name\n          Y=my+oy\n          if(active){\n            let boardData = []\n            switch(k){\n              case 0: boardData = this.state.playerAdata.boardData; break\n              case 1: boardData = this.state.playerBdata.boardData; break\n              case 2: boardData = this.state.playerCdata.boardData; break\n              case 3: boardData = this.state.playerDdata.boardData; break\n            }\n            x.drawImage(this.boardBG, tx, Y, s/2, s)\n            let msp = s/1000\n            boardData.map((v,i)=>{\n              if(v[0]){\n                let px = mx + (i%10) * s / 20 + s / 35- s/4\n                let py = ((i/10|0)-6) * s / 20 - s/35\n                if((i/10|0)-6>=0){\n                  switch(this.state.colorMode){\n                    case 'cyberpunk':\n                      x.fillStyle=`hsla(${170},75%,${(v[1]?v[1]-1:0)*50*S(t*50)+25+70/7*(v[0]-1)}%,.8)`\n                      break\n                    case 'rainbows':\n                      x.fillStyle=`hsla(${360/7*(v[0]-1)},75%,${(v[1]?v[1]-1:0)*50*S(t*50)+50}%,.8)`\n                      break\n                  }\n                  x.fillRect(X + px + msp, Y + py + s/40 + msp, s/20 - msp*2, s/20 - msp*2)\n                }\n              }\n            })\n            x.strokeStyle='#aff6'\n            x.lineWidth = 2\n            x.strokeRect(tx, Y, s/2, s)\n\n            let alive = true\n            switch(k){\n              case 0: alive = this.state.playerAdata.alive; break\n              case 1: alive = this.state.playerBdata.alive; break\n              case 2: alive = this.state.playerCdata.alive; break\n              case 3: alive = this.state.playerDdata.alive; break\n            }\n            if(!alive){\n              x.fillStyle='#f248'\n              x.fillRect(tx, Y, s/2, s)\n            }\n\n            x.font = s/10 + 'px \"Varela Round\"'\n            switch(this.state.colorMode){\n              case 'cyberpunk': x.fillStyle='#0f8'; break\n              case 'rainbows': x.fillStyle='#ff0'; break\n              default: x.fillStyle='#0f8';\n            }\n            switch(k){\n              case 0: name = this.state.playerAName; break\n              case 1: name = this.state.playerBName; break\n              case 2: name = this.state.playerCName; break\n              case 3: name = this.state.playerDName; break\n            }\n            name = '\"' + name + '\"'\n            x.fillStyle='#ff0'\n            x.fillText(name, tx, Y - s/28)\n\n            x.font = s/10 + 'px \"Varela Round\"'\n            let highscore          \n            switch(k){\n              case 0: highscore = this.state.playerAdata.highScore; break\n              case 1: highscore = this.state.playerBdata.highScore; break\n              case 2: highscore = this.state.playerCdata.highScore; break\n              case 3: highscore = this.state.playerDdata.highScore; break\n            }\n            \n            x.fillStyle='#0f8'\n            x.fillText('high', tx + s/1.9, Y + s/10)\n            x.fillText('score', tx + s/1.9, Y + s/10*2)\n            x.fillStyle=\"#fff\"\n            x.fillText(highscore, tx + s/1.75, Y + s/10*3)\n\n            let currows\n            switch(k){\n              case 0: currows = this.state.playerAdata.rowsCompleted; break\n              case 1: currows = this.state.playerBdata.rowsCompleted; break\n              case 2: currows = this.state.playerCdata.rowsCompleted; break\n              case 3: currows = this.state.playerDdata.rowsCompleted; break\n            }\n            x.fillStyle='#0f8'\n            x.fillText('current', tx + s/1.9, Y + s/10 * 6)\n            x.fillText('rows', tx + s/1.9, Y + s/10 * 7)\n            x.fillStyle=\"#fff\"\n            x.fillText(currows, tx + s/1.75, Y + s/10 * 8)\n          } else {\n            x.fillStyle='#2228'\n            x.fillRect(tx, Y, s/2, s)\n            x.strokeStyle='#8886'\n            x.lineWidth = 1\n            x.strokeRect(tx, Y, s/2, s)\n            name = 'not joined'\n            x.font = s/10 + 'px \"Varela Round\"'\n            x.fillStyle='#888'\n            x.fillText(name, tx, Y - s/28)\n          }\n        }\n      } else {\n        Y = oy\n        x.font = s/8 + 'px \"Varela Round\"'\n        x.fillStyle='#fff8'\n        x.fillText('awaiting', X + s/3.25, Y + s/4)\n        x.fillText('challenger(s)', X + s / 5, Y + s/2.5)\n        x.font = s/4 + 'px \"Varela Round\"'\n        x.fillStyle='#4688'\n        x.fillText('['+Array((t*8|0)%8).fill('.').join('')+']', X + s / 2.1 - ((t*8|0)%8)*.035*s, Y + s/1.45)\n      }\n    },\n    async pollServer(quickPoll){\n      \n      let sendData = {\n        playerNumber: this.state.playerNumber,\n        gameID: this.state.gameID,\n        playerName: this.state.playerName,\n        gamedata: {\n          boardData: this.state.boardData,\n          highScore: this.state.highScore,\n          rowsCompleted: this.rowsCompleted,\n          alive: this.state.alive,\n          playerName: this.state.playerName,\n          playerNumber: this.state.playerNumber\n        }\n      }\n      let res = await fetch(this.state.baseURL + '/sync.php',{\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(sendData),\n      })\n      .then(res => res.json())\n      .then(data => {\n        if(data){\n          if(data[0] == 'error - game full'){\n            alert('OOPS! game is full... you can create a new game though!')\n            window.location.href = window.location.origin\n          } else {\n            if(data[2]){\n              if(!(+data[2].playing)) this.state.gameActuallyPlaying = false\n              if(!!(+data[2].playing) && !this.state.gameActuallyPlaying && !this.state.countdownTimer){\n                this.t = 1\n                this.state.countdownTimer = this.t + 6\n              }\n            }\n            this.state.playerNumber = data[0]\n            let gamedata = data[2]\n            //let gamedataA = JSON.parse(gamedata.gamedataA)\n            let gamedataA = gamedata.gamedataA == '' ? [] : JSON.parse(gamedata.gamedataA)\n            let gamedataB = gamedata.gamedataB == '' ? [] : JSON.parse(gamedata.gamedataB)\n            let gamedataC = gamedata.gamedataC == '' ? [] : JSON.parse(gamedata.gamedataC)\n            let gamedataD = gamedata.gamedataD == '' ? [] : JSON.parse(gamedata.gamedataD)\n            if(typeof gamedataA.playerNumber == 'undefined'){\n              this.state.playerAName = ''\n              this.state.playerAdata = {boardData:[]}\n            }\n            if(typeof gamedataB.playerNumber == 'undefined'){\n              this.state.playerBName = ''\n              this.state.playerBdata = {boardData:[]}\n            }\n            if(typeof gamedataC.playerNumber == 'undefined'){\n              this.state.playerCName = ''\n              this.state.playerCdata = {boardData:[]}\n            }\n            if(typeof gamedataD.playerNumber == 'undefined'){\n              this.state.playerDName = ''\n              this.state.playerDdata = {boardData:[]}\n            }\n            let tname\n            if(this.state.author){\n              tname = gamedataA.playerName              \n            }\n            switch(this.state.playerNumber){\n              case 'B':\n                tname = gamedataB.playerName; break\n              case 'C':\n                tname = gamedataC.playerName; break\n              case 'D':\n                tname = gamedataD.playerName; break\n              default: if(!this.state.author) tname = ''; break\n            }\n            this.state.playerAdata = gamedataA\n            this.state.playerBdata = gamedataB\n            this.state.playerCdata = gamedataC\n            this.state.playerDdata = gamedataD\n            if(typeof tname != 'undefined' && !quickPoll && tname.length && (this.t - this.state.lastNameUpdateTimer) > 3 || this.t < 3){\n              this.state.playerName = tname\n              this.state.playerAdata = gamedataA\n            }\n            if(typeof gamedataA.playerName != 'undefined') this.state.playerAName = gamedataA.playerName\n            if(typeof gamedataB.playerName != 'undefined') this.state.playerBName = gamedataB.playerName\n            if(typeof gamedataC.playerName != 'undefined') this.state.playerCName = gamedataC.playerName\n            if(typeof gamedataD.playerName != 'undefined') this.state.playerDName = gamedataD.playerName\n            if(gamedataB.playerNumber || gamedataC.playerNumber || gamedataD.playerNumber) this.state.challengerJoined = true\n            if(quickPoll){\n              this.state.lastNameUpdateTimer = this.t\n            } else {\n              setTimeout(()=>{\n                this.pollServer()\n              }, 250)\n            }\n          }\n        }\n      })\n    },\n    Draw(){\n      let t = this.t\n      let S = this.S\n      let C = this.C\n      let x = this.x\n      let c = this.c\n\n      let G, j, i, p, a, l, B, w, Rn, R, Q, Rl, Pt, Yw, oX, oY, oZ, tx, ty, tz, X, Y, Z, M, A, H, d, s\n      \n\n      R = (Rl,Pt,Yw,o)=>{\n        X=S(p=(A=(M=Math).atan2)(X,Y)+Rl)*(d=(H=M.hypot)(X,Y)),Y=C(p)*d,Y=S(p=A(Y,Z)+Pt)*(d=H(Y,Z)),Z=C(p)*d,X=S(p=A(X,Z)+Yw)*(d=H(X,Z)),Z=C(p)*d\n        if(o)X+=oX,Y+=oY,Z+=oZ\n      }\n      if(!this.t){\n        for(j=6;j--;)for(i=4;i--;)this.G=[...this.G,[(a=[S(p=Math.PI*2/4*i+Math.PI/4)*(2**.5)/2,C(p)*(2**.5)/2,.5])[j%3]*(l=j<3?1:-1),a[(j+1)%3]*l,a[(j+2)%3]*l]]\n        this.B = [\n          [[-.5,-1,0],[-.5,0,0],[-.5,1,0],[.5,1,0]],\n          [[.5,-1,0],[.5,0,0],[.5,1,0],[-.5,1,0]],\n          [[-1,0,0],[0,0,0],[1,0,0],[0,1,0]],\n          [[-1.5,0,0],[-.5,0,0],[.5,0,0],[1.5,0,0]],\n          [[-.5,-1,0],[-.5,0,0],[.5,0,0],[.5,1,0]],\n          [[.5,-1,0],[.5,0,0],[-.5,0,0],[-.5,1,0]],\n          [[-.5,-.5,0],[.5,-.5,0],[.5,.5,0],[-.5,.5,0]]\n        ]\n      }\n      x.lineJoin=x.lineCap='round'\n      \n      c.width = c.clientWidth\n      c.height = c.clientHeight\n      x.fillStyle='#000'//, x.fillRect(0,0,w=c.width,w)\n      x.clearRect(0,0,w=c.width,w)\n      \n      Rl=t, Pt=-t/2, Yw=t\n      oX=0, oY=0, oZ=40\n \n      s = c.height - c.height/20\n\n      switch(this.state.stage){\n        \n        case 0:\n        \n        break\n        \n        case 1:\n        \n          tx = c.width/2 - s/2\n          x.fillStyle='#011a'\n          //x.fillRect(tx,  s/40, s/2, s)\n          x.drawImage(this.boardBG, tx,  s/40, s/2, s)\n          x.strokeStyle='#aff6'\n          x.lineWidth = 1\n          x.strokeRect(tx,  s/40, s/2, s)\n          let msp = s/500\n          this.state.boardData = this.state.boardData.map((v,i)=>{\n            if(v[0]){\n              let px = (i%10) * s / 20\n              let py = ((i/10|0)-6) * s / 20\n              if((i/10|0)-6>=0){\n                switch(this.state.colorMode){\n                  case 'cyberpunk':\n                    x.fillStyle=`hsla(${170},75%,${(v[1]?v[1]-1:0)*50*S(t*50)+25+70/7*(v[0]-1)}%,.8)`\n                    break\n                  case 'rainbows':\n                    x.fillStyle=`hsla(${360/7*(v[0]-1)},75%,${(v[1]?v[1]-1:0)*50*S(t*50)+50}%,.8)`\n                    break\n                }\n                x.fillRect(tx + px + msp, py + s/40 + msp, s/20 - msp*2, s/20 - msp*2)\n              }\n            }\n            if(v[1]) v[1]+=.018\n            if(v[1]>=2){\n              for(let m=i+10; (m-=10)>=20;){\n                if(m>=10){\n                  if(1||this.state.boardData[m-10][0]){\n                    this.state.boardData[m][0] = this.state.boardData[m-10][0]\n                    this.state.boardData[m][1] = this.state.boardData[m-10][1]\n                  }\n                }\n              }\n              v[1]=0\n            }\n            return v\n          })\n          \n          \n          x.fillStyle='#102a'\n          x.fillRect(tx + s/2 + s/32,  s/40, s/2 - s/16, s/2 - s/16)\n          x.strokeStyle='#aaf6'\n          x.lineWidth = 1\n          x.strokeRect(tx + s/2 + s/32,  s/40, s/2 - s/16, s/2 - s/16)\n          x.font= s**.9/12 + 'px \"Varela Round\"'\n          x.fillStyle='#86fc'\n          x.fillText('next piece', tx + s/2 + s/12 + (s/2 - s/16)/2.3 - s/9, s/11 - s/20 + s/40)\n          this.drawNextPiece(tx + s/2 + s/32 + 100, s/16 + s/10 - s/20, this.nextPieceIdx, 1)\n\n          /*\n\t\t\t\t\tx.strokeStyle='#aaf6'\n          x.lineWidth = 1\n          x.strokeRect(tx + s/2 + s/32 + s/80,  s/40 + s/64, s/8, s/8)\n          x.font= s**.9/14 + 'px \"Varela Round\"'\n          x.fillStyle='#8fc6'\n          x.fillText('swap', tx + s/2 + s/32 + s/32,  s/40 + s/64 + s/32*1.2, s/8, s/8)          \n          x.fillText('[tab]', tx + s/2 + s/32 + s/28,  s/40 + s/64 + s/32*2.85, s/8, s/8)\n          if(this.swapPieceIdx != null) this.drawNextPiece(tx + s/2 + s/32 + s/80,  s/40 + s/64, s/8, s/8, this.swapPieceIdx, 1)\n          */\n\n          x.fillStyle='#102a'\n          x.fillRect(tx + s/2 + s/32, s/2 - s/16 + s/10 - s/20, s/2 - s/16, s/2 + s/100 + s/40)\n          x.strokeStyle='#aaf6'\n          x.lineWidth = 1\n          x.strokeRect(tx + s/2 + s/32, s/2 - s/16 + s/10 - s/20, s/2 - s/16, s/2 + s/64 + s/40)\n          x.fillStyle='#86fc'\n          if(this.state.challengerJoined){\n            x.font= s**.9/16 + 'px \"Varela Round\"'\n            x.fillText('challengers', tx + s/1.8 + s/32 + s/2 / 2.3 - s/7, s/2 + s/14 - s/20)\n          }\n          this.drawOpponents(tx + s/2 + s/30, s/2 - s/16 + s/10 - s/20 + s/40)\n\t\t\t\t\t\n          if(((this.state.singlePlayerMode && this.state.alive) || (this.state.challengerJoined && this.state.gameActuallyPlaying &&\n             this.state.alive)) && !((t*60|0)%(this.dropFreq|0))){\n            this.advancePiece()\n          }\n\n          x.fillStyle='#2466'\n          if(this.currentPiece != null && ((this.state.singlePlayerMode && this.state.alive) || (this.state.challengerJoined && this.state.gameActuallyPlaying &&\n             this.state.alive))){\n\t\t\t\t\t\tlet tempPiece = JSON.parse(JSON.stringify(this.currentPiece))\n\t\t\t\t\t\tdo{\n\t\t\t\t\t\t\ttempPiece = tempPiece.map(v=>{\n\t\t\t\t\t\t\t  v[1]++\n\t\t\t\t\t\t\t\treturn v\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}while(this.canDo(tempPiece))\n            Array(260).fill().map((v, i)=>{\n              let px = (i%10) * s / 20\n              let py = ((i/10|0)-6) * s / 20\n\t\t\t\t\t\t  tempPiece.map(q=>{\n\t\t\t\t\t\t\t  if((i%10) == q[0] && ((i/10|0)-6)==q[1]-1){\n                  x.fillRect(tx + px + msp, py + s/40 + msp, s/20 - msp*2, s/20 - msp*2)\n                }\n\t\t\t\t\t\t\t})\n            })\n          }\n          if((this.state.singlePlayerMode && this.state.gameActuallyPlaying && this.state.alive) || this.state.challengerJoined && this.state.gameActuallyPlaying && this.state.alive) {\n            if(this.currentPiece != null){\n\t\t\t  \t\t  if(0&&this.tabKey){\n\t\t\t\t\t\t\t\tif(!this.swapped){\n\t\t\t\t\t\t\t\t\tlet tmpIdx = -1\n\t\t\t\t\t\t\t\t  if(this.swapPieceIdx) tmpIdx = this.swapPieceIdx\n\t\t\t\t\t\t\t\t  this.swapPieceIdx = this.currentPiece[0][2]\n\t\t\t\t\t\t\t\t\tif(tmpIdx == -1){\n\t\t\t\t\t\t\t\t\t  this.state.boardData = JSON.parse(JSON.stringify(this.tempBoard))\n\t\t\t\t\t\t\t\t\t\tthis.spawnPiece(4, -2)\n\t\t\t\t\t\t\t\t\t} else {\n                    this.tempBoard = JSON.parse(JSON.stringify(this.state.boardData))\n                    let n = tmpIdx\n                    let tempPiece = JSON.parse(JSON.stringify(this.B))[n].map(v=>{\n                      return [\n                        Math.round(X + v[0]),\n                        Math.round(Y + v[1]),\n                        n\n                      ]\n                    })\n                    if(this.canDo(tempPiece)){\n                      this.currentPiece = tempPiece\n                      this.state.boardData = this.state.boardData.map((v, i)=>{\n                        let tx = i%10\n                        let ty = (i/10|0) - 6\n                        this.currentPiece.map(q=>{\n                          if(q[0] == tx && q[1] == ty){\n                            v[0] = q[2]+1\n                            v[1] = 0\n                          }\n                        })\n                        return v\n                      })\n                    } else {\n                      this.state.alive = false\n                    }\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t  this.swapped = true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.tabKey = false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(this.spaceKey && this.currentPiece != null){\n                do{\n                  this.currentPiece = this.currentPiece.map(v=>{\n                    v[1]++\n                    return v\n                  })\n                }while(this.canDo(this.currentPiece))\n\t\t\t\t\t\t\t\tthis.state.boardData = JSON.parse(JSON.stringify(this.tempBoard))\n                this.state.boardData = this.state.boardData.map((v, i)=>{\n                  let tx = i%10\n                  let ty = (i/10|0) - 6\n                  this.currentPiece.map(q=>{\n                    if(q[0] == tx && q[1]-1 == ty){\n                      v[0] = q[2]+1\n                      v[1] = 0\n                    }\n                  })\n                  return v\n                })\n                this.currentPiece = null\n\t\t\t\t\t\t\t\tthis.spaceKey = false\n                this.tempBoard = JSON.parse(JSON.stringify(this.state.boardData))\n                this.checkRowCompletion()\n              } \n              if(this.leftKey && this.currentPiece != null){\n                if(this.pieceMoveTimer < t){\n                  let tempPiece = JSON.parse(JSON.stringify(this.currentPiece)).map(v=>{\n                    v[0]--\n                    return v\n                  })\n                  if(this.canDo(tempPiece)){\n                    this.currentPiece = tempPiece\n                    this.pieceMoveTimer = this.t + this.piceMoveInterval\n                  }\n                }\n              }\n              if(this.rightKey && this.currentPiece != null){\n                if(this.pieceMoveTimer < t){\n                  let tempPiece = JSON.parse(JSON.stringify(this.currentPiece)).map(v=>{\n                    v[0]++\n                    return v\n                  })\n                  if(this.canDo(tempPiece)){\n                    this.currentPiece = tempPiece\n                    this.pieceMoveTimer = this.t + this.piceMoveInterval\n                  }\n                }\n              }\n              if(this.downKey && this.pieceManualDropTimer < t && this.currentPiece != null){\n                this.advancePiece()\n                this.pieceManualDropTimer = this.t + this.piecManualDropInterval\n              }\n              if(this.upKey && this.currentPiece != null){\n                if(this.currentPiece[0][2]!=6){\n                  if(this.pieceRotateTimer < t){\n                    let tx = this.currentPiece[1][0]\n                    let ty = this.currentPiece[1][1]\n\t\t\t\t\t\t\t\t\t\tlet cx\n                    let tempPiece = JSON.parse(JSON.stringify(this.currentPiece)).map(v=>{\n                      cx = v[0]\n\t\t\t\t\t\t\t\t\t\t\tlet X = v[0]\n                      let Y = v[1]\n                      let p = Math.atan2(v[0]-tx, v[1]-ty) + Math.PI / 2\n                      let d = Math.hypot(v[0]-tx, v[1]-ty)\n                      v[0] = Math.round(tx+S(p)*d)\n                      v[1] = Math.round(ty+C(p)*d)\n                      return v\n                    })\n                    if(this.canDo(tempPiece)){\n                      this.currentPiece = tempPiece\n                      this.pieceRotateTimer = this.t + this.piceMoveInterval * 2\n                    } else if(cx >= 5) {\n\t\t\t\t\t\t\t\t\t\t\tlet tries = 0, res = false\n\t\t\t\t\t\t\t\t\t\t\tdo{\n\t\t\t\t\t\t\t\t\t\t\t\ttries++\n\t\t\t\t\t\t\t\t\t\t\t\ttempPiece = tempPiece.map(v=>{\n\t\t\t\t\t\t\t\t\t\t\t   v[0]--\n\t\t\t\t\t\t\t\t\t\t\t  \treturn v\n\t\t\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t\t\t\t\t}while(!(res = this.canDo(tempPiece)) && tries < 3);\n\t\t\t\t\t\t\t\t\t\t\tif(res){\n\t\t\t\t\t\t\t\t\t\t\t\tthis.currentPiece = tempPiece\n                        this.pieceRotateTimer = this.t + this.piceMoveInterval * 2\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} else if(cx <= 5) {\n                      let tries = 0, res = false\n                      do{\n                        tries++\n                        tempPiece = tempPiece.map(v=>{\n                         v[0]++\n                          return v\n                        })\n                      }while(!(res = this.canDo(tempPiece)) && tries < 3);\n                      if(res){\n\t\t\t\t\t\t\t\t\t\t\t\tthis.currentPiece = tempPiece\n                        this.pieceRotateTimer = this.t + this.piceMoveInterval * 2\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n                  }\n                }\n              }\n              if(this.currentPiece != null){\n                this.state.boardData = JSON.parse(JSON.stringify(this.tempBoard))\n                this.state.boardData = this.state.boardData.map((v, i)=>{\n                  let tx = i%10\n                  let ty = (i/10|0) - 6\n                  this.currentPiece.map(q=>{\n                    if(q[0] == tx && q[1] == ty){\n                      v[0] = q[2]+1\n                      v[1] = 0\n                    }\n                  })\n                  return v\n                })\n              }\n            } else {\n              if(!this.state.boardData.filter(v=>v[1]).length) this.spawnPiece(4, -2)\n            }\n          }\n\n          this.t += 1/60\n          requestAnimationFrame(this.Draw)\n        break\n        \n        case 2:\n        break\n      }\n\n    },\n    launchGame(){\n      this.stage = 0\n      this.state.countdownTimer = 0\n      this.t = 0\n      this.pollServer()\n      this.$nextTick(()=>this.Draw())\n    },\n    startGame(){\n      if(this.state.singlePlayerMode) {\n\t\t\t\thistory.pushState(0, 0 , window.location.origin + '/game')\n      } else {\n        history.pushState(0, 0 , window.location.origin + '/game/' + this.state.decToAlpha(this.state.gameID) + '/a')\n\t\t\t}\n\t\t\tthis.state.stage = 1\n      this.state.countdownTimer = 0\n      this.t = 0\n      if(!this.state.singlePlayerMode) {\n\t\t\t\tthis.pollServer()\n\t\t\t} else {\n\t\t\t  this.state.gameActuallyPlaying = false\n        this.state.countdownTimer = this.t + 6\n\t\t\t}\n      this.$nextTick(()=>this.Draw())\n      this.syncBoard()\n    },\n    playGame(){\n      this.state.gameActuallyPlaying = false\n      let sendData = {\n        gameID: this.state.gameID\n      }\n      fetch(this.state.baseURL + '/startGame.php',{\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(sendData),\n      })\n      .then(res => res.json())\n      .then(data => {\n        if(data[0] !== 'started game# ' + this.state.gameID){\n          console.log('error starting game :(')\n        }\n      })\n    },\n    setupListeners(){\n      document.getElementsByTagName('body')[0].addEventListener('keydown', e=>{\n\t\t\t\tswitch(e.keyCode){\n          case 9: this.tabKey = true; break\n          case 37: this.leftKey = true; break\n          case 38: this.upKey = true; break\n          case 39: this.rightKey = true; break\n          case 40: this.downKey = true; break\n          case 32: this.spaceKey = true; break\n        }\n      })\n      document.getElementsByTagName('body')[0].addEventListener('keyup', e=>{\n        this.pieceMoveTimer = 0\n        this.pieceRotateTimer = 0\n\t\t\t\tswitch(e.keyCode){\n          case 9: this.tabKey = false; break\n          case 37: this.leftKey = false; break\n          case 38: this.upKey = false; break\n          case 39: this.rightKey = false; break\n          case 40: this.downKey = false; break\n          case 40: this.spaceKey = false; break\n        }\n      })\n    },\n    reload(){\n      this.syncBoard()\n      this.state.alive = true\n      this.currentPiece = null\n      this.dropFreq = this.initDropFreq\n      this.rowsCompleted = 0\n    }\n  },\n  watch:{\n    'state.gameActuallyPlaying'(val){\n      if(val){\n        this.reload()\n      }\n    },\n    'state.gameLink'(val){\n      if(val.length){\n        this.$nextTick(()=>{this.$nextTick(()=>this.startGame())})\n      }\n    },\n    countdown(val){\n      if(!val && this.playerJoinedCount > 1 &&\n\t\t\t\t!(this.state.author && this.state.stage==1 && !this.state.challengerJoined)\n\t\t\t\t) this.state.gameActuallyPlaying = true\n      if(this.state.singlePlayerMode && !val ) this.state.gameActuallyPlaying = true\n\t\t}\n  },\n  mounted(){\n    this.c = this.$refs.mainCanvas\n    this.x = this.c.getContext('2d')\n    this.t = 0\n    this.c.width = this.c.clientWidth\n    this.c.height = this.c.clientHeight\n    this.boardBG.src = 'https://lookie.jsbot.net/uploads/rjc4W.png'\n    if(this.state.author) this.gameActuallyPlaying = false\n    this.$nextTick(()=>{\n      if(this.state.stage != 1) this.$refs.userNameField.focus()\n      if(this.state.singlePlayerMode) this.launchSinglePlayer()\n\t\t})\n    this.setupListeners()\n\t}\n}\n</script>\n\n<style scoped>\ncanvas{\n  width: 100%;\n  height: 100px;\n  vertical-align: top;\n  height: 100%;\n}\n.main{\n  font-size: 32px;\n  text-align: center;\n  height: 100vh;\n}\n.headerText{\n  font-size: 64px;\n  color: #fff8;\n  position: absolute;\n  left: 50%;\n  top: 15px;\n  transform: translatex(-50%) scalex(2.0);\n  font-style: oblique;\n  text-shadow: 0px 0px 10px #0f4;\n}\n.innerInputForm{\n  position: absolute;\n  top: calc(50% - 50px);\n  left: calc(50% - 20px);\n  transform: translate(-50%, -50%);\n}\n.inputForm{\n  position: absolute;\n  top: 0;\n  left: 0;\n  padding: 50px;\n  height: 100%;\n  width: 100%;\n  color: #ff0;\n}\n.createGameButton{\n  width: 100%;\n  margin-top: 60px;\n}\n.disabled{\n  color: #000;\n  background: linear-gradient(135deg, #3338, #888)!important;\n}\n.linkDiv{\n  position: absolute;\n  top: calc(50% - 50px);\n  left: calc(50% - 20px);\n  transform: translate(-50%, -50%);\n}\n.copied{\n  background-color: #0f88!important;\n}\n.gamelink{\n  color: #8ff;\n  text-shadow: 1px 1px 2px #000;\n  text-decoration: none;\n  font-size: 18px;\n  padding: 5px;\n  display: inline-block;\n  padding-left: 20px;\n  padding-right: 20px;\n  background: #246;\n  border-radius: 10px;\n}\n.controls{\n  font-size: 20px;\n  position: absolute;\n  top: 80px;\n  z-index: 1010;\n  color: #468;\n  left: 50%;\n  width: 100%;\n  transform: translatex(-50%);\n}\n.actionContainer{\n  position: absolute;\n  top: calc(50vh + 50px);\n  height: calc(100vh - 100px);\n  max-height: 800px;\n  width: 100%;\n  transform: translateY(-50%);\n}\n</style>\n","<template>\r\n  <div class=\"header\">\r\n    <a href=\"javascript:window.location.href = window.location.origin\"><div class=\"headerText\">TETRIS<br>THE NEXT GENERATION</div></a>\r\n    <canvas ref=\"headerCanvas\"></canvas>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Header',\r\n  props: [ 'state' ],\r\n  data(){\r\n    return {\r\n      t: 0,\r\n      S: Math.sin,\r\n      C: Math.cos,\r\n      x: null,\r\n      c: null\r\n    }\r\n  },\r\n  computed:{\r\n  },\r\n  methods:{\r\n    Draw(){\r\n      let t = this.t\r\n      let S = this.S\r\n      let C = this.C\r\n      let x = this.x\r\n      let c = this.c\r\n      \r\n      let G, j, i, p, a, l, B, w, Rn, R, Q, Rl, Pt, Yw, oX, oY, oZ, tx, ty, tz, X, Y, Z, M, A, H, d\r\n      \r\n      R=(Rl,Pt,Yw,o)=>{\r\n        X=S(p=(A=(M=Math).atan2)(X,Y)+Rl)*(d=(H=M.hypot)(X,Y)),Y=C(p)*d,Y=S(p=A(Y,Z)+Pt)*(d=H(Y,Z)),Z=C(p)*d,X=S(p=A(X,Z)+Yw)*(d=H(X,Z)),Z=C(p)*d\r\n        if(o)X+=oX,Y+=oY,Z+=oZ\r\n      }\r\n\r\n      for(G=[],j=6;j--;)for(i=4;i--;)G=[...G,[(a=[S(p=Math.PI*2/4*i+Math.PI/4)*(2**.5)/2,C(p)*(2**.5)/2,.5])[j%3]*(l=j<3?1:-1),a[(j+1)%3]*l,a[(j+2)%3]*l]]\r\n      B = [\r\n        [[-.5,-1,0],[-.5,0,0],[-.5,1,0],[.5,1,0]],\r\n        [[.5,-1,0],[.5,0,0],[.5,1,0],[-.5,1,0]],\r\n        [[-1,0,0],[0,0,0],[1,0,0],[0,1,0]],\r\n        [[-1.5,0,0],[-.5,0,0],[.5,0,0],[1.5,0,0]],\r\n        [[-.5,-1,0],[-.5,0,0],[.5,0,0],[.5,1,0]],\r\n        [[.5,-1,0],[.5,0,0],[-.5,0,0],[-.5,1,0]],\r\n        [[-.5,-.5,0],[.5,-.5,0],[.5,.5,0],[-.5,.5,0]]\r\n      ]\r\n      \r\n      c.width = c.clientWidth\r\n      x.fillStyle='#000', x.clearRect(0,0,w=c.width,w)\r\n      x.lineJoin=x.lineCap='round'\r\n      \r\n      Rl=t, Pt=-t/2, Yw=t\r\n      oX=0, oY=0, oZ=5\r\n      \r\n      B.map((v, j)=>{\r\n        v.map(v=>{\r\n          tx=v[0]\r\n          ty=v[1]\r\n          tz=v[2]\r\n          G.map((q, i)=>{\r\n            X = q[0] + tx\r\n            Y = q[1] + ty\r\n            Z = q[2] + tz\r\n            R(Rl*(j%2?1:-1),Pt*(j%2?1:-1.5),Yw,1)\r\n            if(!(i%4)) x.beginPath()\r\n            x.lineTo(X/Z*100 + ((-3+j)*c.width/7 - C(t/3) * 1000 + c.width/2*99)%c.width, c.height/2+Y/Z*100)\r\n            if(i%4==3){\r\n              switch(this.state.colorMode){\r\n                case 'cyberpunk':\r\n                  x.strokeStyle=`hsla(${170},75%,${50}%,.8)`\r\n                  x.fillStyle=`hsla(${170},75%,${50}%,.3)`\r\n                  break\r\n                case 'rainbows':\r\n                  x.strokeStyle=`hsla(${360/7*(j-1)},75%,50%,.8)`\r\n                  x.fillStyle=`hsla(${360/7*(j-1)},75%,50%,.3)`\r\n                  break\r\n              }\r\n              x.closePath()\r\n              x.lineWidth=4/Z\r\n              //x.strokeStyle=`hsla(${360/7*j},99%,80%,.8)`\r\n              x.stroke()\r\n              //x.fillStyle=`hsla(${360/7*j},99%,50%,.3)`\r\n              x.fill()\r\n            }\r\n          })\r\n        })\r\n      })\r\n      \r\n      this.t += 1/60\r\n      requestAnimationFrame(this.Draw)\r\n    }\r\n  },\r\n  mounted(){\r\n    this.$nextTick(()=>{\r\n      this.c = this.$refs.headerCanvas\r\n      this.x = this.c.getContext('2d')\r\n      this.t = 0\r\n      this.c.width = this.c.clientWidth\r\n      this.c.height = this.c.clientHeight\r\n      this.Draw()\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\ncanvas{\r\n  width: 100%;\r\n  height: 100px;\r\n  vertical-align: top;\r\n}\r\n.header{\r\n  position: relative;\r\n  z-index: 10;\r\n  width: 100vw;\r\n  font-size: 32px;\r\n  text-align: center;\r\n}\r\n.headerText{\r\n  font-size: 28px;\r\n  color: #fff8;\r\n  position: absolute;\r\n  min-width: 450px;\r\n\tleft: 50%;\r\n  top: 15px;\r\n  transform: translatex(-50%) scalex(2.0);\r\n  font-style: oblique;\r\n  text-shadow: 0px 0px 10px #0f4;\r\n}\r\n</style>\r\n","import { render } from \"./Header.vue?vue&type=template&id=a044c876&scoped=true\"\nimport script from \"./Header.vue?vue&type=script&lang=js\"\nexport * from \"./Header.vue?vue&type=script&lang=js\"\n\nimport \"./Header.vue?vue&type=style&index=0&id=a044c876&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/whitehotrobot/tetris_multiplayer/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a044c876\"]])\n\nexport default __exports__","import { render } from \"./Main.vue?vue&type=template&id=273f5400&scoped=true\"\nimport script from \"./Main.vue?vue&type=script&lang=js\"\nexport * from \"./Main.vue?vue&type=script&lang=js\"\n\nimport \"./Main.vue?vue&type=style&index=0&id=273f5400&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/whitehotrobot/tetris_multiplayer/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-273f5400\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=0d6f9706\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=0d6f9706&lang=css\"\n\nimport exportComponent from \"/home/whitehotrobot/tetris_multiplayer/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Header.vue?vue&type=style&index=0&id=a044c876&scoped=true&lang=css\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./App.vue?vue&type=style&index=0&id=0d6f9706&lang=css\""],"sourceRoot":""}